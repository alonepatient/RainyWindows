<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Êó∂Èó¥Êà≥ËΩ¨Êç¢Âô® - RainyWindows</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            image-rendering: pixelated;
            image-rendering: -moz-crisp-edges;
            image-rendering: crisp-edges;
            border-radius: 0 !important;
            font-smooth: never;
            -webkit-font-smoothing: none;
            -moz-osx-font-smoothing: none;
        }
        
        body {
            font-family: 'Courier New', Courier, monospace, 'Press Start 2P';
            line-height: 1.6;
            color: #000;
            background-color: #f0f0f0;
            image-rendering: pixelated;
            text-rendering: optimizeSpeed;
            text-shadow: 1px 1px 0 #fff;
            font-smooth: never;
            -webkit-font-smoothing: none;
            -moz-osx-font-smoothing: none;
        }
        
        h1, h2, h3, h4, h5, h6, p, a, span, div, button, input, textarea, select {
            font-smooth: never;
            -webkit-font-smoothing: none;
            -moz-osx-font-smoothing: none;
            font-family: 'Courier New', Courier, monospace, 'Press Start 2P';
            text-shadow: 1px 1px 0 #fff;
            letter-spacing: 1px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        header {
            background-color: #fff;
            padding: 15px 0;
            box-shadow: 0 2px 0 #000;
            position: sticky;
            top: 0;
            z-index: 100;
            transition: all 0.1s step-end;
            border-bottom: 2px solid #000;
        }
        
        header.scrolled {
            padding: 10px 0;
            box-shadow: 0 4px 0 #000;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 28px;
            font-weight: 700;
            color: #333;
            text-decoration: none;
            letter-spacing: -0.5px;
            display: flex;
            align-items: center;
            transition: all 0.3s ease;
        }
        
        .logo:hover {
            color: #3498db;
            transform: scale(1.05);
        }
        
        .nav-links {
            display: flex;
            gap: 30px;
            list-style: none;
        }
        
        .nav-links a {
            text-decoration: none;
            color: #666;
            font-size: 15px;
            font-weight: bold;
            position: relative;
            transition: all 0.1s step-end;
            padding: 5px 0;
        }
        
        .nav-links a:hover {
            color: #3498db;
            text-shadow: 1px 1px 0 #000;
        }
        
        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background-color: #3498db;
            transition: width 0.1s step-end;
        }
        
        .nav-links a:hover::after {
            width: 100%;
        }
        
        .header-right {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .header-icon {
            font-size: 19px;
            color: #666;
            cursor: pointer;
            transition: all 0.1s step-end;
            padding: 5px;
            border: 2px solid #000;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 35px;
            height: 35px;
            background-color: #fff;
        }
        
        .header-icon:hover {
            color: #3498db;
            background-color: #fff;
            transform: translateY(-2px);
            box-shadow: 2px 2px 0 #000;
        }
        
        /* ÁßªÂä®Á´ØËèúÂçïÊåâÈíÆ */
        .mobile-menu-btn {
            display: none;
            background: #fff;
            border: 2px solid #000;
            cursor: pointer;
            padding: 5px;
            box-shadow: 2px 2px 0 #000;
        }
        
        .mobile-menu-btn .bar {
            display: block;
            width: 25px;
            height: 3px;
            margin: 5px auto;
            background-color: #333;
            transition: all 0.1s step-end;
        }
        
        .mobile-menu-btn.active .bar:nth-child(1) {
            transform: translateY(8px) rotate(45deg);
        }
        
        .mobile-menu-btn.active .bar:nth-child(2) {
            opacity: 0;
        }
        
        .mobile-menu-btn.active .bar:nth-child(3) {
            transform: translateY(-8px) rotate(-45deg);
        }
        
        .main-content {
            margin-top: 30px;
            margin-bottom: 60px;
        }
        
        /* ËΩ¨Êç¢Âô®ÂÆπÂô® */
        .converter-container {
            background-color: #fff;
            padding: 40px;
            border: 2px solid #000;
            box-shadow: 4px 4px 0 #000;
            margin-bottom: 30px;
        }
        
        .converter-title {
            text-align: center;
            font-size: 32px;
            margin-bottom: 40px;
            color: #333;
        }
        
        .converter-grid {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 30px;
            align-items: center;
            margin-bottom: 40px;
        }
        
        /* ËΩ¨Êç¢Âå∫Âüü */
        .convert-section {
            background-color: #f9f9f9;
            padding: 30px;
            border: 2px solid #000;
            box-shadow: 2px 2px 0 #000;
        }
        
        .section-title {
            font-size: 20px;
            margin-bottom: 20px;
            color: #333;
            text-align: center;
        }
        
        /* ËæìÂÖ•Ê°ÜÊ†∑Âºè */
        .input-group {
            margin-bottom: 20px;
        }
        
        .input-label {
            display: block;
            font-size: 14px;
            font-weight: bold;
            margin-bottom: 8px;
            color: #666;
        }
        
        .input-field {
            width: 100%;
            padding: 12px;
            border: 2px solid #000;
            box-shadow: 2px 2px 0 #000;
            background-color: #fff;
            font-size: 16px;
            transition: all 0.1s step-end;
        }
        
        .input-field:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 4px 4px 0 #000;
            transform: translateY(-2px) translateX(-2px);
        }
        
        /* Êó•ÊúüÊó∂Èó¥ÈÄâÊã©Âô® */
        .datetime-picker {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .datetime-picker select {
            padding: 10px;
            border: 2px solid #000;
            box-shadow: 2px 2px 0 #000;
            background-color: #fff;
            font-size: 14px;
            transition: all 0.1s step-end;
        }
        
        .datetime-picker select:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 4px 4px 0 #000;
            transform: translateY(-2px) translateX(-2px);
        }
        
        /* ÊåâÈíÆÊ†∑Âºè */
        .swap-btn {
            background-color: #3498db;
            color: #fff;
            border: 2px solid #000;
            box-shadow: 2px 2px 0 #000;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.1s step-end;
            margin: 0 auto;
        }
        
        .swap-btn:hover {
            background-color: #2980b9;
            transform: translateY(-3px) translateX(-3px);
            box-shadow: 5px 5px 0 #000;
        }
        
        .convert-btn {
            background-color: #27ae60;
            color: #fff;
            border: 2px solid #000;
            box-shadow: 2px 2px 0 #000;
            padding: 12px 24px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.1s step-end;
            width: 100%;
            margin-top: 10px;
        }
        
        .convert-btn:hover {
            background-color: #229954;
            transform: translateY(-2px) translateX(-2px);
            box-shadow: 4px 4px 0 #000;
        }
        
        /* ÁªìÊûúÂå∫Âüü */
        .result-section {
            background-color: #e8f4f8;
            padding: 20px;
            border: 2px solid #000;
            box-shadow: 2px 2px 0 #000;
            margin-top: 20px;
        }
        
        .result-title {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
        }
        
        .result-value {
            font-size: 18px;
            font-weight: bold;
            color: #3498db;
            word-break: break-all;
        }
        
        /* ÂéÜÂè≤ËÆ∞ÂΩï */
        .history-container {
            background-color: #fff;
            padding: 30px;
            border: 2px solid #000;
            box-shadow: 4px 4px 0 #000;
        }
        
        .history-title {
            font-size: 24px;
            margin-bottom: 20px;
            color: #333;
            text-align: center;
        }
        
        .history-list {
            max-height: 300px;
            overflow-y: auto;
            border: 2px solid #000;
            box-shadow: inset 2px 2px 0 #000;
            background-color: #f9f9f9;
        }
        
        .history-item {
            padding: 15px;
            border-bottom: 1px solid #ddd;
            transition: all 0.1s step-end;
            cursor: pointer;
        }
        
        .history-item:hover {
            background-color: #f0f0f0;
            transform: translateX(5px);
        }
        
        .history-item:last-child {
            border-bottom: none;
        }
        
        .history-time {
            font-size: 12px;
            color: #999;
            margin-bottom: 5px;
        }
        
        .history-conversion {
            font-size: 14px;
            color: #333;
        }
        
        .clear-history-btn {
            background-color: #e74c3c;
            color: #fff;
            border: 2px solid #000;
            box-shadow: 2px 2px 0 #000;
            padding: 10px 20px;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.1s step-end;
            margin-top: 20px;
        }
        
        .clear-history-btn:hover {
            background-color: #c0392b;
            transform: translateY(-2px) translateX(-2px);
            box-shadow: 4px 4px 0 #000;
        }
        
        /* ÈîôËØØÊèêÁ§∫ */
        .error-message {
            color: #e74c3c;
            font-size: 14px;
            margin-top: 10px;
            font-weight: bold;
        }
        
        /* ÊàêÂäüÊèêÁ§∫ */
        .success-message {
            color: #27ae60;
            font-size: 14px;
            margin-top: 10px;
            font-weight: bold;
        }
        
        /* ÂìçÂ∫îÂºèËÆæËÆ° */
        @media (max-width: 992px) {
            .converter-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .swap-btn {
                transform: rotate(90deg);
            }
        }
        
        @media (max-width: 768px) {
            /* ÂØºËà™Ê†èÂìçÂ∫îÂºè */
            .nav-links {
                position: fixed;
                top: 70px;
                left: 0;
                width: 100%;
                background-color: #fff;
                flex-direction: column;
                align-items: center;
                padding: 20px 0;
                gap: 15px;
                box-shadow: 0 10px 15px rgba(0,0,0,0.1);
                transform: translateY(-150%);
                transition: transform 0.3s ease;
                z-index: 90;
            }
            
            .nav-links.active {
                transform: translateY(0);
                animation: slideDown 0.3s ease-out;
            }
            
            @keyframes slideDown {
                from {
                    opacity: 0;
                    transform: translateY(-50px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }
            
            .mobile-menu-btn {
                display: block;
                z-index: 100;
            }
            
            .header-right {
                gap: 10px;
            }
            
            .converter-container {
                padding: 20px;
            }
            
            .convert-section {
                padding: 20px;
            }
            
            .datetime-picker {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (max-width: 576px) {
            .logo {
                font-size: 24px;
            }
            
            .converter-title {
                font-size: 24px;
            }
            
            .datetime-picker {
                grid-template-columns: 1fr;
            }
        }
        
        /* ÊªöÂä®Êù°Ê†∑Âºè */
        ::-webkit-scrollbar {
            width: 10px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border: 1px solid #000;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #888;
            border: 1px solid #000;
            box-shadow: 2px 2px 0 #000;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
    </style>
</head>
<body>
    <header id="main-header">
        <div class="container">
            <div class="header-content">
                <a href="index.html" class="logo">
                    <span>RainyWindows</span>
                </a>
                
                <!-- ÁßªÂä®Á´ØËèúÂçïÊåâÈíÆ -->
                <button class="mobile-menu-btn" id="mobile-menu-btn">
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                </button>
                
                <!-- Ê°åÈù¢Á´ØÂØºËà™ -->
                <nav class="nav-links" id="nav-links">
                    <a href="index.html">È¶ñÈ°µ</a>
                    <a href="library.html">Êî∂ÂΩï</a>
                    <a href="album.html">‰ΩìÈ™å</a>
                    <a href="studio.html">ÂàõÈÄ†</a>
                    <a href="encryptor.html">Â∑•ÂÖ∑</a>
                </nav>
                
                <div class="header-right">
                    <div class="header-icon" title="ÁßªÂä®ÁâàÊú¨">üì±</div>
                    <div class="header-icon" title="ÈÄöÁü•">üîî</div>
                    <div class="header-icon" title="ÊêúÁ¥¢">üîç</div>
                </div>
            </div>
        </div>
    </header>
    
    <main class="container main-content">
        <div class="converter-container">
            <h1 class="converter-title">Êó∂Èó¥Êà≥ËΩ¨Êç¢Âô®</h1>
            
            <div class="converter-grid">
                <!-- Êó∂Èó¥Êà≥ËΩ¨Êó•ÊúüÊó∂Èó¥ -->
                <div class="convert-section">
                    <h2 class="section-title">Êó∂Èó¥Êà≥ ‚Üí Êó•ÊúüÊó∂Èó¥</h2>
                    <div class="input-group">
                        <label class="input-label" for="timestamp-input">Êó∂Èó¥Êà≥ (Áßí/ÊØ´Áßí)</label>
                        <input type="text" id="timestamp-input" class="input-field" placeholder="ËØ∑ËæìÂÖ•Êó∂Èó¥Êà≥" oninput="convertTimestampToDatetime()">
                    </div>
                    <div class="result-section">
                        <div class="result-title">ËΩ¨Êç¢ÁªìÊûú</div>
                        <div class="result-value" id="datetime-result"></div>
                    </div>
                    <div id="timestamp-error" class="error-message"></div>
                </div>
                
                <!-- ‰∫§Êç¢ÊåâÈíÆ -->
                <button class="swap-btn" id="swap-btn" title="‰∫§Êç¢ËΩ¨Êç¢ÊñπÂêë">‚áÑ</button>
                
                <!-- Êó•ÊúüÊó∂Èó¥ËΩ¨Êó∂Èó¥Êà≥ -->
                <div class="convert-section">
                    <h2 class="section-title">Êó•ÊúüÊó∂Èó¥ ‚Üí Êó∂Èó¥Êà≥</h2>
                    <div class="datetime-picker">
                        <select id="year" onchange="convertDatetimeToTimestamp()"></select>
                        <select id="month" onchange="convertDatetimeToTimestamp()"></select>
                        <select id="day" onchange="convertDatetimeToTimestamp()"></select>
                        <select id="hour" onchange="convertDatetimeToTimestamp()"></select>
                        <select id="minute" onchange="convertDatetimeToTimestamp()"></select>
                        <select id="second" onchange="convertDatetimeToTimestamp()"></select>
                    </div>
                    <div class="result-section">
                        <div class="result-title">ËΩ¨Êç¢ÁªìÊûú</div>
                        <div class="result-value" id="timestamp-result"></div>
                    </div>
                    <div id="datetime-error" class="error-message"></div>
                </div>
            </div>
            
            <!-- ÂéÜÂè≤ËÆ∞ÂΩï -->
            <div class="history-container">
                <h2 class="history-title">ËΩ¨Êç¢ÂéÜÂè≤</h2>
                <div class="history-list" id="history-list"></div>
                <button class="clear-history-btn" id="clear-history-btn">Ê∏ÖÁ©∫ÂéÜÂè≤ËÆ∞ÂΩï</button>
            </div>
        </div>
    </main>
    
    <script>
        // ÂàùÂßãÂåñÊó•ÊúüÊó∂Èó¥ÈÄâÊã©Âô®
        function initDatetimePicker() {
            const now = new Date();
            
            // Âπ¥‰ªΩÈÄâÊã©Âô® (ÊúÄËøë100Âπ¥)
            const yearSelect = document.getElementById('year');
            const currentYear = now.getFullYear();
            for (let i = currentYear - 50; i <= currentYear + 50; i++) {
                const option = document.createElement('option');
                option.value = i;
                option.textContent = i;
                if (i === currentYear) option.selected = true;
                yearSelect.appendChild(option);
            }
            
            // Êúà‰ªΩÈÄâÊã©Âô®
            const monthSelect = document.getElementById('month');
            for (let i = 1; i <= 12; i++) {
                const option = document.createElement('option');
                option.value = i;
                option.textContent = i;
                if (i === now.getMonth() + 1) option.selected = true;
                monthSelect.appendChild(option);
            }
            
            // Êó•ÊúüÈÄâÊã©Âô®
            updateDayOptions();
            
            // Â∞èÊó∂ÈÄâÊã©Âô®
            const hourSelect = document.getElementById('hour');
            for (let i = 0; i < 24; i++) {
                const option = document.createElement('option');
                option.value = i;
                option.textContent = i;
                if (i === now.getHours()) option.selected = true;
                hourSelect.appendChild(option);
            }
            
            // ÂàÜÈíüÈÄâÊã©Âô®
            const minuteSelect = document.getElementById('minute');
            for (let i = 0; i < 60; i++) {
                const option = document.createElement('option');
                option.value = i;
                option.textContent = i;
                if (i === now.getMinutes()) option.selected = true;
                minuteSelect.appendChild(option);
            }
            
            // ÁßíÈÄâÊã©Âô®
            const secondSelect = document.getElementById('second');
            for (let i = 0; i < 60; i++) {
                const option = document.createElement('option');
                option.value = i;
                option.textContent = i;
                if (i === now.getSeconds()) option.selected = true;
                secondSelect.appendChild(option);
            }
        }
        
        // Êõ¥Êñ∞Êó•ÊúüÈÄâÈ°πÔºàÊ†πÊçÆÊúà‰ªΩÂíåÂπ¥‰ªΩÔºâ
        function updateDayOptions() {
            const year = parseInt(document.getElementById('year').value);
            const month = parseInt(document.getElementById('month').value);
            const daySelect = document.getElementById('day');
            
            // Ê∏ÖÁ©∫Áé∞ÊúâÈÄâÈ°π
            daySelect.innerHTML = '';
            
            // ËÆ°ÁÆóÂΩìÊúàÂ§©Êï∞
            const daysInMonth = new Date(year, month, 0).getDate();
            
            // Ê∑ªÂä†Êñ∞ÈÄâÈ°π
            for (let i = 1; i <= daysInMonth; i++) {
                const option = document.createElement('option');
                option.value = i;
                option.textContent = i;
                daySelect.appendChild(option);
            }
            
            // ‰øùÊåÅÂΩìÂâçÊó•ÊúüÔºàÂ¶ÇÊûúÊúâÊïàÔºâ
            const now = new Date();
            if (now.getDate() <= daysInMonth) {
                daySelect.value = now.getDate();
            } else {
                daySelect.value = daysInMonth;
            }
        }
        
        // ÁõëÂê¨Êúà‰ªΩÂíåÂπ¥‰ªΩÂèòÂåñÔºåÊõ¥Êñ∞Êó•ÊúüÈÄâÈ°π
        document.getElementById('month').addEventListener('change', updateDayOptions);
        document.getElementById('year').addEventListener('change', updateDayOptions);
        
        // Êó∂Èó¥Êà≥ËΩ¨Êó•ÊúüÊó∂Èó¥
        function convertTimestampToDatetime() {
            const timestampInput = document.getElementById('timestamp-input').value.trim();
            const resultElement = document.getElementById('datetime-result');
            const errorElement = document.getElementById('timestamp-error');
            
            // Ê∏ÖÁ©∫ÈîôËØØ‰ø°ÊÅØ
            errorElement.textContent = '';
            
            if (!timestampInput) {
                resultElement.textContent = '';
                return;
            }
            
            // È™åËØÅÊó∂Èó¥Êà≥Ê†ºÂºè
            const timestampRegex = /^\d+$/;
            if (!timestampRegex.test(timestampInput)) {
                errorElement.textContent = 'ËØ∑ËæìÂÖ•ÊúâÊïàÁöÑÊï∞Â≠óÊó∂Èó¥Êà≥';
                resultElement.textContent = '';
                return;
            }
            
            let timestamp = parseInt(timestampInput);
            
            // Ëá™Âä®Ê£ÄÊµãÁßíÁ∫ßÊàñÊØ´ÁßíÁ∫ßÊó∂Èó¥Êà≥
            if (timestamp.toString().length === 10) {
                // ÁßíÁ∫ßÊó∂Èó¥Êà≥ÔºåËΩ¨Êç¢‰∏∫ÊØ´ÁßíÁ∫ß
                timestamp *= 1000;
            } else if (timestamp.toString().length !== 13) {
                errorElement.textContent = 'Êó∂Èó¥Êà≥Ê†ºÂºè‰∏çÊ≠£Á°ÆÔºåËØ∑ËæìÂÖ•10‰ΩçÔºàÁßíÔºâÊàñ13‰ΩçÔºàÊØ´ÁßíÔºâÊï∞Â≠ó';
                resultElement.textContent = '';
                return;
            }
            
            try {
                const date = new Date(timestamp);
                
                // È™åËØÅÊó•ÊúüÊúâÊïàÊÄß
                if (isNaN(date.getTime())) {
                    errorElement.textContent = 'Êó†ÊïàÁöÑÊó∂Èó¥Êà≥';
                    resultElement.textContent = '';
                    return;
                }
                
                // Ê†ºÂºèÂåñÊó•ÊúüÊó∂Èó¥
                const formattedDate = date.toLocaleString('zh-CN', {
                    year: 'numeric',
                    month: '2-digit',
                    day: '2-digit',
                    hour: '2-digit',
                    minute: '2-digit',
                    second: '2-digit'
                });
                
                resultElement.textContent = formattedDate;
                
                // Ê∑ªÂä†Âà∞ÂéÜÂè≤ËÆ∞ÂΩï
                addToHistory(`${timestampInput} ‚Üí ${formattedDate}`);
            } catch (error) {
                errorElement.textContent = 'ËΩ¨Êç¢Â§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ËæìÂÖ•';
                resultElement.textContent = '';
            }
        }
        
        // Êó•ÊúüÊó∂Èó¥ËΩ¨Êó∂Èó¥Êà≥
        function convertDatetimeToTimestamp() {
            const year = parseInt(document.getElementById('year').value);
            const month = parseInt(document.getElementById('month').value) - 1; // Êúà‰ªΩ‰ªé0ÂºÄÂßã
            const day = parseInt(document.getElementById('day').value);
            const hour = parseInt(document.getElementById('hour').value);
            const minute = parseInt(document.getElementById('minute').value);
            const second = parseInt(document.getElementById('second').value);
            
            const resultElement = document.getElementById('timestamp-result');
            const errorElement = document.getElementById('datetime-error');
            
            // Ê∏ÖÁ©∫ÈîôËØØ‰ø°ÊÅØ
            errorElement.textContent = '';
            
            try {
                const date = new Date(year, month, day, hour, minute, second);
                
                // È™åËØÅÊó•ÊúüÊúâÊïàÊÄß
                if (isNaN(date.getTime())) {
                    errorElement.textContent = 'Êó†ÊïàÁöÑÊó•ÊúüÊó∂Èó¥';
                    resultElement.textContent = '';
                    return;
                }
                
                // ËΩ¨Êç¢‰∏∫Êó∂Èó¥Êà≥ÔºàÊØ´ÁßíÁ∫ßÂíåÁßíÁ∫ßÔºâ
                const timestampMs = date.getTime();
                const timestampS = Math.floor(timestampMs / 1000);
                
                resultElement.textContent = `ÊØ´Áßí: ${timestampMs}\nÁßí: ${timestampS}`;
                
                // Ê∑ªÂä†Âà∞ÂéÜÂè≤ËÆ∞ÂΩï
                const formattedDate = `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')} ${String(hour).padStart(2, '0')}:${String(minute).padStart(2, '0')}:${String(second).padStart(2, '0')}`;
                addToHistory(`${formattedDate} ‚Üí ÊØ´Áßí: ${timestampMs}, Áßí: ${timestampS}`);
            } catch (error) {
                errorElement.textContent = 'ËΩ¨Êç¢Â§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ËæìÂÖ•';
                resultElement.textContent = '';
            }
        }
        
        // Ê∑ªÂä†Âà∞ÂéÜÂè≤ËÆ∞ÂΩï
        function addToHistory(conversion) {
            // Ëé∑ÂèñÁé∞ÊúâÂéÜÂè≤ËÆ∞ÂΩï
            let history = JSON.parse(localStorage.getItem('timestampHistory') || '[]');
            
            // Ê∑ªÂä†Êñ∞ËÆ∞ÂΩï
            const newRecord = {
                id: Date.now(),
                time: new Date().toLocaleString('zh-CN'),
                conversion: conversion
            };
            
            // ÈôêÂà∂ÂéÜÂè≤ËÆ∞ÂΩïÊï∞ÈáèÔºàÊúÄÂ§ö20Êù°Ôºâ
            history.unshift(newRecord);
            if (history.length > 20) {
                history = history.slice(0, 20);
            }
            
            // ‰øùÂ≠òÂà∞Êú¨Âú∞Â≠òÂÇ®
            localStorage.setItem('timestampHistory', JSON.stringify(history));
            
            // Êõ¥Êñ∞ÂéÜÂè≤ËÆ∞ÂΩïÊòæÁ§∫
            displayHistory();
        }
        
        // ÊòæÁ§∫ÂéÜÂè≤ËÆ∞ÂΩï
        function displayHistory() {
            const historyList = document.getElementById('history-list');
            const history = JSON.parse(localStorage.getItem('timestampHistory') || '[]');
            
            if (history.length === 0) {
                historyList.innerHTML = '<div style="padding: 20px; text-align: center; color: #999;">ÊöÇÊó†ËΩ¨Êç¢ÂéÜÂè≤</div>';
                return;
            }
            
            historyList.innerHTML = history.map(record => `
                <div class="history-item" onclick="loadFromHistory('${record.conversion}')">
                    <div class="history-time">${record.time}</div>
                    <div class="history-conversion">${record.conversion}</div>
                </div>
            `).join('');
        }
        
        // ‰ªéÂéÜÂè≤ËÆ∞ÂΩïÂä†ËΩΩ
        function loadFromHistory(conversion) {
            // Ëß£ÊûêËΩ¨Êç¢ËÆ∞ÂΩï
            const parts = conversion.split(' ‚Üí ');
            if (parts.length !== 2) return;
            
            const [input, output] = parts;
            
            // Âà§Êñ≠ËΩ¨Êç¢ÊñπÂêë
            if (/^\d+$/.test(input)) {
                // Êó∂Èó¥Êà≥ËΩ¨Êó•ÊúüÊó∂Èó¥
                document.getElementById('timestamp-input').value = input;
                convertTimestampToDatetime();
            } else {
                // Êó•ÊúüÊó∂Èó¥ËΩ¨Êó∂Èó¥Êà≥
                // Ëß£ÊûêÊó•ÊúüÊó∂Èó¥Ê†ºÂºè (YYYY-MM-DD HH:mm:ss)
                const dateTimeRegex = /^(\d{4})-(\d{2})-(\d{2})\s+(\d{2}):(\d{2}):(\d{2})$/;
                const match = input.match(dateTimeRegex);
                if (match) {
                    const [, year, month, day, hour, minute, second] = match;
                    document.getElementById('year').value = year;
                    document.getElementById('month').value = month;
                    document.getElementById('day').value = day;
                    document.getElementById('hour').value = hour;
                    document.getElementById('minute').value = minute;
                    document.getElementById('second').value = second;
                    convertDatetimeToTimestamp();
                }
            }
        }
        
        // Ê∏ÖÁ©∫ÂéÜÂè≤ËÆ∞ÂΩï
        document.getElementById('clear-history-btn').addEventListener('click', function() {
            if (confirm('Á°ÆÂÆöË¶ÅÊ∏ÖÁ©∫ÊâÄÊúâËΩ¨Êç¢ÂéÜÂè≤ÂêóÔºü')) {
                localStorage.removeItem('timestampHistory');
                displayHistory();
            }
        });
        
        // ‰∫§Êç¢ËΩ¨Êç¢ÊñπÂêë
        document.getElementById('swap-btn').addEventListener('click', function() {
            const timestampInput = document.getElementById('timestamp-input');
            const datetimeResult = document.getElementById('datetime-result');
            const timestampResult = document.getElementById('timestamp-result');
            
            // ‰∫§Êç¢ËæìÂÖ•ÂíåËæìÂá∫
            const temp = timestampInput.value;
            timestampInput.value = timestampResult.textContent.split('\n')[0].replace('ÊØ´Áßí: ', '');
            
            // ÈáçÊñ∞ËΩ¨Êç¢
            convertTimestampToDatetime();
        });
        
        // ÁßªÂä®Á´ØËèúÂçï
        document.getElementById('mobile-menu-btn').addEventListener('click', function() {
            const navLinks = document.getElementById('nav-links');
            const mobileMenuBtn = document.getElementById('mobile-menu-btn');
            
            navLinks.classList.toggle('active');
            mobileMenuBtn.classList.toggle('active');
        });
        
        // ÊªöÂä®Êó∂Â§¥ÈÉ®Ê†∑ÂºèÂèòÂåñ
        window.addEventListener('scroll', function() {
            const header = document.getElementById('main-header');
            if (window.scrollY > 50) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });
        
        // ÂàùÂßãÂåñ
        window.addEventListener('DOMContentLoaded', function() {
            initDatetimePicker();
            displayHistory();
            
            // ÂàùÂßãËΩ¨Êç¢ÔºàÂΩìÂâçÊó∂Èó¥Ôºâ
            convertDatetimeToTimestamp();
        });
    </script>
</body>
</html>